<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/cs.css" disabled="true">
    <style>
        *{margin:0;padding:0;}
    </style>
    <title>Document</title>
</head>
<body>
    <h1>H5本地通知</h1>
</body>
<script>
setInterval(function () {
	Notification.requestPermission(function (permission) {  
        if (permission == "granted") {
            var notification = new Notification("您有一条新的消息",{  
                dir: "auto",  
                lang: "zh-CN",  
                tag: "testNotice",  
                icon:'noti.png', 
				renotify: false,
                body: '你好啊！我是蚂蚁，我在测试桌面推送' 
            });
            // 事件监听
            notification.onclick = function () {
                console.log('onclick');
                window.location.href = "http://www.baidu.com";
            };
            notification.onshow = function () {
                console.log('onshow');
            };
            notification.onerror = function () {
                console.log('onerror');
            };
            notification.onclose = function () {
                console.log('onclose');
            };   
        }
    });
}, 3000);
    
   
</script>
</html>